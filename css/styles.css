
:root{
  --gap:14px;
  --card-mobile:40vw;
  --card-desktop:300px;
  --radius:14px;
  --surface:#0b0b0e;
  --surface-2:#13131a;
  --text:#e9e9ef;
  --muted:#a2a2b3;
  --border:#2a2a36;
  --shadow: 0 8px 28px rgba(0,0,0,0.35);
  /* accents */
  --accent-a:#22d3ee; /* cyan */
  --accent-b:#a78bfa; /* violet */
}

.theme-dark{ background:#000; color:var(--text); }

.site-header{ background:#000; }
.site-header .header-inner{ display:flex; align-items:center; justify-content:center; padding:12px 0; }
.site-logo{ max-width:95vw; height:auto; max-height:120px; margin:6px auto 10px; display:block; }

main{ max-width:1200px; margin:0 auto; padding: 0 12px; }

.carousel-section{ padding:18px 0; border-top:1px solid var(--border); }
.section-head{ display:flex; align-items:center; justify-content:space-between; margin:0 6px 8px; }
.section-head h2{ font-size:1.1rem; font-weight:700; letter-spacing:.3px; margin:0; color:var(--text); }
.controls button{
  padding:6px 10px; border-radius:10px; border:1px solid var(--border); background:var(--surface-2);
  color:var(--text); cursor:pointer;
}
.controls button:hover{ filter:brightness(1.2); }

/* Distinct accents per carousel */
.theme-a .section-head h2{ color: var(--accent-a); }
.theme-b .section-head h2{ color: var(--accent-b); }
.theme-a .card{ border-color: color-mix(in srgb, var(--accent-a) 30%, var(--border)); }
.theme-b .card{ border-color: color-mix(in srgb, var(--accent-b) 30%, var(--border)); }

.carousel{
  display:flex; gap:var(--gap); overflow-x:auto; padding:12px 6px;
  scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch;
}
.carousel::-webkit-scrollbar{ height:6px; }
.carousel::-webkit-scrollbar-thumb{ background:var(--border); border-radius:999px; }

.carousel .card{
  flex:0 0 var(--card-mobile); max-width:var(--card-mobile);
  scroll-snap-align:start;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
  display:flex; flex-direction:column;
}
@media(min-width:1024px){
  .carousel .card{ flex:0 0 var(--card-desktop); max-width:var(--card-desktop); }
}

.card .hero{ background-size:cover; background-position:center; aspect-ratio:4/3; }
.card .body{ padding:12px; display:flex; flex-direction:column; gap:6px; background:var(--surface-2); }
.card h3{ margin:0; font-size:1rem; color:var(--text); }
.spec{ color:var(--muted); font-size:0.9rem; }
.price{ font-weight:800; color:var(--text); }

/* lightbox minimal */
.lightbox{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.7); z-index:9999; }
.lightbox.active{ display:flex; }
.lb-inner{ background:#0b0b0e; padding:12px; border:1px solid var(--border); border-radius:12px; max-width:95vw; max-height:90vh; display:flex; flex-direction:column; align-items:center; gap:8px; }
.lb-inner img{ max-width:90vw; max-height:70vh; object-fit:contain; border-radius:10px; }
.lb-thumbs{ display:flex; gap:6px; overflow:auto; padding:6px; }
.lb-thumbs img{ width:64px; height:64px; object-fit:cover; border-radius:8px; cursor:pointer; border:1px solid var(--border); }
.lb-close{ position:absolute; top:12px; right:12px; background:var(--surface-2); color:var(--text); border:1px solid var(--border); font-size:20px; padding:6px 10px; border-radius:10px; cursor:pointer; }

/* mobile */
@media(max-width:768px){
  :root{ --card-mobile: 70vw; }
}


/* v32 split-view panels */
#lightbox.active{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.92);
  overflow: hidden; /* panels scroll inside */
  padding: 14px 16px;
}
.lb-split{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  height: calc(100vh - 28px);
  min-height: 320px;
}
.panel{
  background:#111; border:1px solid #222; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,.25);
  display:flex; flex-direction:column; min-height:0; overflow:auto; -webkit-overflow-scrolling:touch;
}
.panel-visual #lb-img{ display:block; width:100%; height:auto; border-bottom:1px solid #222; }
.panel-visual #lb-thumbs{ display:flex; flex-wrap:nowrap; gap:8px; overflow-x:auto; padding:8px; background:#f4f4f4; border-top:1px solid #e2e2e2; }
.panel-visual #lb-thumbs img{ flex:0 0 auto; height:78px; width:auto; border-radius:6px; border:1px solid #d9d9d9; }

.panel-fichas{ padding:12px; gap:12px; }
.lb-fichas-multi{ display:flex; flex-direction:column; gap:12px; }
.lb-ficha-panel{ background:#0f0f0f; border:1px solid #242424; border-radius:12px; padding:14px; color:#eee; }
.lb-ficha-title{ margin:0 0 8px 0; font-size:1rem; font-weight:700; color:#90ee90; }
.ficha-grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:8px 16px; font-size:.95rem; line-height:1.35; }
.ficha-grid .notas{ grid-column:1 / -1; }
.ficha-grid b{ color:#ddd; display:block; margin-bottom:2px; }
.ficha-grid span{ color:#fafafa; display:block; }

@media (max-width: 900px){
  .lb-split{ grid-template-columns:1fr; height:auto; }
  #lightbox.active{ overflow-y:auto; }
  .panel{ min-height:auto; overflow:visible; }
}


/* v33: centrar, ajustar tamaños y evitar cortes */
#lightbox.active{
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 24px;
  overflow-y: auto;              /* permite scroll general si hace falta */
  -webkit-overflow-scrolling: touch;
}

.lb-split{
  width: min(1120px, 100%);      /* ancho límite para que no desborde */
  max-width: 1120px;
  height: calc(100vh - 96px);    /* cabe en viewport con padding */
  min-height: 420px;
  margin: 0 auto;                /* centrado horizontal */
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.panel{
  min-width: 0;                  /* evita overflow por contenido ancho */
  min-height: 0;                 /* habilita overflow dentro */
  display: flex;
  flex-direction: column;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}

/* Imagen contenida dentro del panel visual */
.panel-visual #lb-img{
  display: block;
  width: 100%;
  height: auto;
  max-height: 60vh;              /* evita que se corte por alto */
  object-fit: contain;
  border-bottom: 1px solid #222;
}

/* Miniaturas más compactas y dentro de ancho */
.panel-visual #lb-thumbs{
  display: flex;
  flex-wrap: nowrap;
  overflow-x: auto;
  gap: 8px;
  padding: 8px;
  background: #f4f4f4;
  border-top: 1px solid #e2e2e2;
}
.panel-visual #lb-thumbs img{
  flex: 0 0 auto;
  height: 64px;                  /* más pequeñas para caber */
  width: auto;
  border-radius: 6px;
  border: 1px solid #d9d9d9;
}

/* Panel fichas con scroll; tarjetas no exceden ancho */
.panel-fichas{
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow: auto;
  word-break: break-word;
}
.lb-ficha-panel{
  background:#0f0f0f;
  border:1px solid #242424;
  border-radius:12px;
  padding:14px;
  color:#eee;
  box-shadow:0 2px 8px rgba(0,0,0,.25);
}

/* Responsive: apilar y usar scroll del lightbox */
@media (max-width: 900px){
  .lb-split{
    grid-template-columns: 1fr;
    width: 100%;
    max-width: none;
    height: auto;
  }
  #lightbox.active{
    overflow-y: auto;
  }
  .panel{
    max-height: none;
    overflow: visible;
  }
  .panel-visual #lb-img{
    max-height: 48vh;
  }
}
