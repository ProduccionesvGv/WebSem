function svgPlaceholder(label,bg,stroke,text){label=label||'VGVSERV';bg=bg||'#0b0b0b';stroke=stroke||'#22c55e';text=text||'#9ca3af';var s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" role="img" aria-label="'+label+'">';s+='<rect width="1200" height="800" fill="'+bg+'"/>';s+='<g fill="none" stroke="'+stroke+'" stroke-width="6" stroke-linecap="round">';s+='<path d="M 300 520 L 600 300 L 900 520"/>';s+='<circle cx="600" cy="400" r="60"/>';s+='</g>';s+='<text x="50%" y="86%" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="42" fill="'+text+'" opacity="0.85">'+label+'</text>';s+='</svg>';return 'data:image/svg+xml;utf8,'+encodeURIComponent(s);}const PLACEHOLDER="img/placeholder.svg";function _heroFor(id){try{var P=(window.PRODUCTS||[]).find(function(p){return p.id===id;});if(P&&Array.isArray(P.images)&&P.images.length){return P.images[0];}}catch(e){}return null;}function _imagesFor(id){try{var P=(window.PRODUCTS||[]).find(function(p){return p.id===id;});if(P&&Array.isArray(P.images)&&P.images.length){return P.images.slice(0,3);} }catch(e){}return null;}function renderGalleryFromConfig(containerSelector, products) { const container = document.querySelector(containerSelector); if (!container || !products || !products.length) return; container.innerHTML = products.map(p => ` <section class="product" data-id="${p.id}"> <h3 class="product-title">${p.title}</h3> <div class="product-images"> ${ (p.images||[]).map(src => `<img src="${src}" alt="${p.title}" loading="lazy">`).join('') } </div> </section> `).join(''); } document.addEventListener('DOMContentLoaded', () => { if (document.querySelector('#gallery')) { renderGalleryFromConfig('#gallery', PRODUCTS); } }); function renderGalleryFromConfig(containerSelector, products) { const container = document.querySelector(containerSelector); if (!container || !products || !products.length) return; container.innerHTML = products.map(p => ` <section class="product" data-id="${p.id}"> <h3 class="product-title">${p.title}</h3> <div class="product-images"> ${ (p.images||[]).map(src => `<img src="${src}" alt="${p.title}" loading="lazy">`).join('') } </div> </section> `).join(''); } document.addEventListener('DOMContentLoaded', () => { if (document.querySelector('#gallery')) { renderGalleryFromConfig('#gallery', PRODUCTS); } }); let DATA = [ { id: 'phantom-ice', title: 'Phantom Ice', subtitle: 'Feminizada · Hibrida', price_ars: 18999, badge: 'x4', image: 'https://ibb.co/svJvGv3R' + encodeURIComponent(` <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 1000"> <defs> <linearGradient id="g" x1="0" x2="1"> <stop offset="0" stop-color="#1f2937"/> <stop offset="1" stop-color="#0b0f1a"/> </linearGradient> </defs> <rect width="100%" height="100%" fill="url(#g)"/> <text x="50%" y="48%" fill="#9ca3af" font-family="Inter, Arial" font-size="48" text-anchor="middle">Gorilla Glue</text> <text x="50%" y="56%" fill="#6ee7b7" font-family="Inter, Arial" font-weight="bold" font-size="34" text-anchor="middle">AUTO</text> </svg> `), specs: { banco: 'Mamua Seeds', genetica: 'Phantom Cookies x Jamaican Ice', floracion: '8-10 semanas', thc: '17-20%', rendimiento: 'Alto', sabor: 'Dulce, Incienso, Herbal', notas: 'Planta robusta, ideal para principiantes.' } }, { id: 'la-messias', title: 'La Messias ', subtitle: 'Feminizada · Sativa', price_ars: 20999, badge: 'x5', image: 'data:image/svg+xml;utf8,' + encodeURIComponent(` <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 1000"> <defs> <linearGradient id="g2" x1="0" x2="1"> <stop offset="0" stop-color="#1b4332"/> <stop offset="1" stop-color="#081c15"/> </linearGradient> </defs> <rect width="100%" height="100%" fill="url(#g2)"/> <text x="50%" y="48%" fill="#b7e4c7" font-family="Inter, Arial" font-size="48" text-anchor="middle">La Messias</text> <text x="50%" y="56%" fill="#ffd166" font-family="Inter, Arial" font-weight="bold" font-size="34" text-anchor="middle">FEM</text> </svg> `), specs: { banco: 'Canndi', genetica: 'Red Skunk x Gran Daddy', floracion: '8-10 semanas', thc: '15-18%', rendimiento: 'Medio-Alto', sabor: 'Dulce, Frutal, Citrico', notas: 'Aroma cítrico muy marcado. Efecto energizante.' } }, { id: 'cookies-kush', title: 'Craig', subtitle: 'Feminizada · Índica', price_ars: 19999, badge: 'x4', image: 'data:image/svg+xml;utf8,' + encodeURIComponent(` <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 1000"> <defs> <linearGradient id="g3" x1="0" x2="1"> <stop offset="0" stop-color="#28203f"/> <stop offset="1" stop-color="#0d0b14"/> </linearGradient> </defs> <rect width="100%" height="100%" fill="url(#g3)"/> <text x="50%" y="48%" fill="#c4b5fd" font-family="Inter, Arial" font-size="48" text-anchor="middle">Cookies</text> <text x="50%" y="56%" fill="#a78bfa" font-family="Inter, Arial" font-weight="bold" font-size="34" text-anchor="middle">KUSH</text> </svg> `), specs: { banco: 'Yeruti Seeds', genetica: 'Destroyer X Skunk ', floracion: '10-12 semanas', thc: '18-20%', rendimiento: 'Alto', sabor: 'Dulce, Manzana, Vainilla', notas: 'Resinosa, efecto cerebral energizante, creativo .' } }, { id: 'blueberry-auto', title: 'Blueberry Auto', subtitle: 'Autofloreciente · Índica', price_ars: 15499, badge: 'SALE', image: 'data:image/svg+xml;utf8,' + encodeURIComponent(` <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 1000"> <defs> <linearGradient id="g4" x1="0" x2="1"> <stop offset="0" stop-color="#1f1147"/> <stop offset="1" stop-color="#0a0717"/> </linearGradient> </defs> <rect width="100%" height="100%" fill="url(#g4)"/> <text x="50%" y="48%" fill="#cbd5ff" font-family="Inter, Arial" font-size="48" text-anchor="middle">Blueberry</text> <text x="50%" y="56%" fill="#93c5fd" font-family="Inter, Arial" font-weight="bold" font-size="34" text-anchor="middle">AUTO</text> </svg> `), specs: { banco: 'Demo Seeds', genetica: 'Blueberry Auto', floracion: '9 semanas', thc: '18-20%', rendimiento: 'Medio', sabor: 'Frutos del bosque, dulce', notas: 'Coloraciones moradas en climas fríos.' } } ]; const $carousel = document.getElementById('carousel'); const $prev = document.getElementById('prevBtn'); const $next = document.getElementById('nextBtn'); function ensureGallery(item){ if(Array.isArray(item.gallery) && item.gallery.length >= 3){ return item.gallery.slice(0,3); } let base = null; if(item && item.id){ if(item.id === 'phantom-ice') base = 'img/phantom-ice-phantom.jpg'; else if(item.id === 'la-messias') base = 'img/lemon.jpg'; else if(item.id === 'cookies-kush') base = 'img/cookies.jpg';base=_heroFor(item.id)||base||PLACEHOLDER; } if(!base){ base = (item && item.image) ? item.image : 'img/phantom-ice-phantom.jpg'; } return (_imagesFor(item.id)||[PLACEHOLDER,PLACEHOLDER,PLACEHOLDER]); } const $specsCard = document.getElementById('specsCard'); const $specsGallery = document.getElementById('specsGallery'); const $specName = document.getElementById('specName'); function setWhatsAppMessage(text){ const wa = document.querySelector('.whatsapp-float'); if(wa){ const url = 'https://wa.me/56998118816?text=' + encodeURIComponent(text); wa.setAttribute('href', url); } } setWhatsAppMessage('Hola, vengo de la web. Quiero más información.'); function moneyARS(n){ try{ return n.toLocaleString('es-AR', { style: 'currency', currency: 'ARS', maximumFractionDigits: 0 }); }catch(e){ return '$ ' + (n||0); } } function renderCards(){ const frag = document.createDocumentFragment(); DATA.forEach(item => { const card = document.createElement('article'); card.className = 'card'; const imgWrap = document.createElement('a'); imgWrap.href = '#specs'; imgWrap.className = 'card-img-wrap'; imgWrap.dataset.id = item.id; imgWrap.addEventListener('click', () => showSpecs(item.id)); imgWrap.innerHTML = `<span class="badge">${item.badge}</span>`; var base=_heroFor(item.id)||PLACEHOLDER; if(item.id === 'phantom-ice'){ imgWrap.style.backgroundImage = "url('"+base+"')"; imgWrap.style.backgroundSize = "cover"; imgWrap.style.backgroundPosition = "center"; } else if(item.id === 'la-messias'){ imgWrap.style.backgroundImage = "url('"+base+"')"; imgWrap.style.backgroundSize = "cover"; imgWrap.style.backgroundPosition = "center"; } else if(item.id === 'cookies-kush'){ imgWrap.style.backgroundImage = "url('"+base+"')"; imgWrap.style.backgroundSize = "cover"; imgWrap.style.backgroundPosition = "center"; } else { const imgTag = document.createElement('img'); imgTag.src = item.image; imgTag.alt = item.title; imgTag.loading = 'lazy'; imgWrap.appendChild(imgTag); } const body = document.createElement('div'); body.className = 'card-body'; body.innerHTML = ` <h3 class="title">${item.title}</h3> <p class="subtitle">${item.subtitle}</p> <p class="price">${moneyARS(item.price_ars)}</p> `; card.appendChild(imgWrap); card.appendChild(body); frag.appendChild(card); }); $carousel.appendChild(frag); } function showSpecs(id){ const item = DATA.find(x => x.id === id); if(!item){ return; } const { banco, genetica, floracion, thc, rendimiento, sabor, notas } = item.specs; if($specName){ $specName.textContent = item.title; } if($specsGallery){ const imgs = ensureGallery(item).map((src,i)=>`<img src="${src}" alt="${item.title} ${i+1}" loading="lazy">`).join(''); $specsGallery.innerHTML = imgs; $specsGallery.classList.add('has-images'); } $specsCard.innerHTML = ` <div class="spec-grid"> <div><div class="label">Nombre</div><div class="value">${item.title}</div></div> <div><div class="label">Banco</div><div class="value">${banco}</div></div> <div><div class="label">Genética</div><div class="value">${genetica}</div></div> <div><div class="label">Floración</div><div class="value">${floracion}</div></div> <div><div class="label">THC</div><div class="value">${thc}</div></div> <div><div class="label">Rendimiento</div><div class="value">${rendimiento}</div></div> <div style="grid-column: 1 / -1"> <div class="label">Sabor</div><div class="value">${sabor}</div> </div> <div style="grid-column: 1 / -1"> <div class="label">Notas</div><div class="value">${notas}</div> </div> </div> `; document.getElementById('specs').scrollIntoView({ behavior: 'smooth', block: 'start' }); const msg = `Hola, vengo de la web. Me interesa "${item.title}" (${item.subtitle}) con precio ${moneyARS(item.price_ars)}. ¿Disponibilidad?`; setWhatsAppMessage(msg); const footerDynamic = document.getElementById('footerDynamic'); if(footerDynamic){ footerDynamic.innerHTML = `<h3 style="color: var(--accent); margin:0;">${item.title}</h3>`; } } function scrollByCards(dir = 1){ const cardWidth = $carousel.querySelector('.card')?.getBoundingClientRect().width || 260; $carousel.scrollBy({ left: dir * (cardWidth + 16) * 2, behavior: 'smooth' }); } $prev.addEventListener('click', () => scrollByCards(-1)); $next.addEventListener('click', () => scrollByCards(1)); $carousel.addEventListener('keydown', (e) => { if(e.key === 'ArrowRight') scrollByCards(1); if(e.key === 'ArrowLeft') scrollByCards(-1); }); DATA = DATA.filter(item => item.id !== 'blueberry-auto'); renderCards(); window.addEventListener('load', () => { $carousel.focus({ preventScroll: true }); if($specsGallery){ $specsGallery.classList.remove('has-images'); $specsGallery.innerHTML=''; } });function _ensureCarouselFromProducts(){try{var c=document.getElementById('carousel');if(!c) return;if(c.children&&c.children.length>0) return;var prods=(window.PRODUCTS||[]); if(!prods.length) return;var frag=document.createDocumentFragment();prods.forEach(function(p){ var card=document.createElement('div'); card.className='card'; var imgWrap=document.createElement('a'); imgWrap.href='#specs'; imgWrap.className='card-img-wrap'; imgWrap.dataset.id=p.id; var hero=(p&&p.images&&p.images[0])||(typeof PLACEHOLDER!=='undefined'?PLACEHOLDER:null); if(hero){ imgWrap.style.backgroundImage="url('"+hero+"')"; imgWrap.style.backgroundSize='cover'; imgWrap.style.backgroundPosition='center'; } imgWrap.addEventListener('click', function(){ if(typeof showSpecs==='function') showSpecs(p.id); }); var body=document.createElement('div'); body.className='card-body'; body.innerHTML='<h3 class="title">'+(p.title||p.id)+'</h3>'; card.appendChild(imgWrap); card.appendChild(body); frag.appendChild(card);});c.appendChild(frag);}catch(e){}}document.addEventListener('DOMContentLoaded', function(){ try{ _ensureCarouselFromProducts(); }catch(e){} });document.addEventListener('DOMContentLoaded',function(){try{renderCards();}catch(e){}});